@page "{id:int?}"
@model ActividadesSugeridasRazorPages.Pages.Eva_momentos_responsables.IndexModel

@{
    ViewData["Title"] = "Index";
}

<h2>Responsable de Momento</h2>

<p>
    <a asp-page="Create" class="btn btn-success btn-md active" role="button" 
       asp-route-idper="@Model.IdNombre"
       asp-route-idmom="@Model.IdMomentoDet"
       asp-route-idcom="@Model.IdCompetencia"
       asp-route-nombre="@Model.nombrePersona"
       asp-route-paterno="@Model.apellidoPaterno"
       asp-route-materno="@Model.apellidoMaterno"
       asp-route-desmom="@Model.desMomento"
       asp-route-descom="@Model.desCompetencia"
       
      >Agregar responsable</a>
</p>





<div class="panel panel-primary">

    <div class="panel-heading">Información de la Actividad</div>
    <div class="panel-body">
        <p>Persona: @Model.nombrePersona @Model.apellidoPaterno @Model.apellidoMaterno</p>
        <p>Competencia:@Model.desCompetencia </p>
        <p>Momento:@Model.desMomento </p>

    </div>
</div>

<table class="table">
    <thead>
        <tr>
            <th>
                Responsable
            </th>
            <th>
                Tipo de Responsable
            </th>
            <!-- <th>
         Competencia
     </th>
     <th>
        Momento
     </th>
     <th>
        Persona
     </th>-->
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model.evas_momentos_responsables.Where(item => item.IdMomentoDet == Model.IdMomentoDet)) {

        <tr>


            @foreach (var i in Model.rh_cats_personas.Where(e => e.IdPersona == item.IdGenResponsable))
    {
        <td>
            @Html.DisplayFor(modelItem => i.Nombre)

        </td>
}
            @foreach (var o in Model.cats_Generales.Where(e => e.IdGeneral == item.IdTipoGenResponsable))
            {
        <td>
            @Html.DisplayFor(modelItem => o.DesGeneral)

        </td>
            }



            <td>

                <a asp-page="./Edit" class="btn btn-default btn-md active" role="button" asp-route-id="@item.IdResponsable">Editar</a> |
                <a asp-page="./Details" class="btn btn-info btn-md active" role="button" asp-route-id="@item.IdResponsable">Detalles</a> |
                <a asp-page="./Delete" class="btn btn-danger btn-md active" role="button" asp-route-id="@item.IdResponsable">Eliminar</a> |

            </td>
        </tr>
}
    </tbody>
</table>
